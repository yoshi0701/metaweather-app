{"version":3,"sources":["constants.ts","components/reusable-components/WeatherPageItem.tsx","components/reusable-components/WeatherPage.tsx","components/Header.tsx","components/TopPage.tsx","App.tsx","index.tsx"],"names":["localWeather","weather","localWindDirection","windDirection","WeatherPageItem","data","iconUrl","weather_state_abbr","type","title","applicable_date","className","src","alt","bordered","Item","label","weather_state_name","wind_direction_compass","Math","round","max_temp","WeatherPage","city","TabPane","Tabs","cityName","useState","id","forecastData","setForecastData","reportData","setReportData","isLoading","setIsLoading","cityCode","console","error","useEffect","fetchForecastData","a","weatherArray","date","incrementDay","dayjs","add","format","axios","get","process","response","push","weatherReportArray","decrementDay","subtract","reverse","fetchReportData","style","paddingTop","textAlign","fontSize","color","size","defaultActiveKey","tab","map","Header","theme","mode","to","TopPage","Content","Layout","App","exact","path","component","render","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.7ae48451.chunk.js","sourcesContent":["export const localWeather = (weather: string) => {\n  switch(weather) {\n    case 'Snow':\n      return '雪'\n    case 'Sleet':\n      return 'みぞれ'\n    case 'Hail':\n      return '雹'\n    case 'Thunderstorm':\n      return '雷雨'\n    case 'Heavy Rain':\n      return '大雨'\n    case 'Light Rain':\n      return '小雨'\n    case 'Showers':\n      return 'にわか雨'\n    case 'Heavy Cloud':\n      return '曇り'\n    case 'Light Cloud':\n      return '曇のち晴れ'\n    case 'Clear':\n      return '晴れ'\n    default:\n      return '不明'\n  }\n}\n\nexport const localWindDirection = (windDirection: string) => {\n  switch(windDirection) {\n    case 'N':\n      return '北'\n    case 'NNE':\n      return '北北東'\n    case 'NE':\n      return '北東'\n    case 'ENE':\n      return '東北東'\n    case 'E':\n      return '東'\n    case 'ESE':\n      return '東南東'\n    case 'SE':\n      return '南東'\n    case 'SSE':\n      return '南南東'\n    case 'S':\n      return '南'\n    case 'SSW':\n      return '南南西'\n    case 'SW':\n      return '南西'\n    case 'WSW':\n      return '西南西'\n    case 'W':\n      return '西'\n    case 'WNW':\n      return '西北西'\n    case 'NW':\n      return '北西'\n    case 'NNW':\n      return '北北西'\n    default:\n      return '不明'\n  }\n}\n","import React from 'react';\nimport { Card, Space, Descriptions } from 'antd';\nimport { localWeather, localWindDirection } from '../../constants';\nimport './WeatherPageItem.style.scss';\n\ninterface Data {\n  id: number;\n  weather_state_abbr: string,\n  applicable_date: string;\n  weather_state_name: string;\n  wind_direction_compass: string;\n  max_temp: number;\n}\n\ninterface Props {\n  data: Data,\n  key: number,\n}\n\nexport const WeatherPageItem: React.FC<Props> = ({ data}) => {\n  const iconUrl = `https://www.metaweather.com/static/img/weather/png/64/${data.weather_state_abbr}.png`;\n\n  return (\n    <Card type=\"inner\" title={data.applicable_date}>\n      <div className=\"weather-container\">\n        <div className='weather-icon'>\n          <img src={iconUrl} className=\"weather-icon-item\" alt='icon'/>\n        </div>\n        <div className=\"weather-description-wrapper\">\n          <Descriptions bordered>\n            <Descriptions.Item label=\"天気\">{localWeather(data.weather_state_name)}</Descriptions.Item>\n            <Descriptions.Item label=\"風向き\">{localWindDirection(data.wind_direction_compass)}</Descriptions.Item>\n            <Descriptions.Item label=\"最高気温\">{Math.round(data.max_temp * 10) / 10}℃</Descriptions.Item>\n          </Descriptions>\n        </div>\n      </div>\n    </Card>\n  )\n}\n","import React, { useState, useEffect } from 'react';\nimport dayjs from 'dayjs';\nimport { WeatherPageItem } from './WeatherPageItem';\nimport axios from 'axios';\nimport { Card, Tabs, Spin } from 'antd';\n\ninterface City {\n  city: string;\n}\n\nconst WeatherPage: React.FC<City> = (city) => {\n  interface WeatherResponse {\n    id: number;\n    weather_state_abbr: string;\n    applicable_date: string;\n    weather_state_name: string;\n    max_temp: number,\n    wind_direction_compass: string;\n  }\n\n  const style: { [key: string]: string} = {\n    paddingTop: '50px',\n    textAlign: 'center',\n    fontSize: 'x-large',\n    color: 'lightskyblue',\n  }\n\n  const { TabPane } = Tabs;\n  const cityName = city;\n\n  const [forecastData, setForecastData] = useState<WeatherResponse[]>([\n    { id: 0,\n      weather_state_abbr: '',\n      applicable_date: '',\n      weather_state_name: '',\n      max_temp: 0,\n      wind_direction_compass: ''\n    }]\n  )\n\n  const [reportData, setReportData] = useState<WeatherResponse[]>([\n    { id: 0,\n      weather_state_abbr: '',\n      applicable_date: '',\n      weather_state_name: '',\n      max_temp: 0,\n      wind_direction_compass: ''\n    }]\n  )\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  function cityCode(): number | undefined {\n    switch (cityName.city) {\n      case 'tokyo':\n        return 1118370\n      case 'nagoya':\n        return 1117817\n      case 'osaka':\n        return 15015370\n      default:\n        console.error('city does not match')\n    }\n  }\n\n  useEffect(() => {\n    const fetchForecastData = async () => {\n      setIsLoading(true);\n      const weatherArray: any[] = [];\n      for (let date = 0; date < 7; date++) {\n        const incrementDay = dayjs().add(date, 'day').format('YYYY/MM/DD')\n        const response = await axios.get(\n          process.env.REACT_APP_PROXY_URL + `https://www.metaweather.com/api/location/${cityCode()}/${incrementDay}`\n        );\n\n        weatherArray.push(response.data[0]);\n      }\n      setForecastData(weatherArray)\n      setIsLoading(false);\n    };\n\n    const fetchReportData = async () => {\n      const weatherReportArray: any[] = [];\n      for (let date = 1; date < 7; date++) {\n        const decrementDay = dayjs().subtract(date, 'day').format('YYYY/MM/DD')\n        const response = await axios.get(\n          process.env.REACT_APP_PROXY_URL + `https://www.metaweather.com/api/location/${cityCode()}/${decrementDay}`\n        );\n\n        weatherReportArray.push(response.data[0]);\n      }\n      setReportData(weatherReportArray.reverse())\n    };\n    fetchReportData();\n    fetchForecastData();\n  }, []);\n\n  return (\n    <>\n      <div>\n        {isLoading ? (\n          <div style={style} className=\"loading-status\">\n            Loading ...\n            <Spin size=\"large\" />\n          </div>\n        ) : ( <Tabs defaultActiveKey=\"2\" type=\"card\" size=\"large\">\n            <TabPane tab=\"先週の天気\" key=\"1\">\n              <Card title=\"先週の天気\">\n                {reportData.map(data =>\n                  <WeatherPageItem data={data} key={data.id} />\n                )}\n              </Card>\n            </TabPane>\n            <TabPane tab=\"今週の天気\" key=\"2\">\n              <Card title=\"今週の天気\">\n                {forecastData.map(data =>\n                  <WeatherPageItem data={data} key={data.id} />\n                )}\n              </Card>\n            </TabPane>\n          </Tabs>\n        )}\n      </div>\n    </>\n  )\n};\n\nexport default WeatherPage;\n","import { Link } from 'react-router-dom';\nimport { Menu } from 'antd';\n\nexport const Header = () => {\n  return (\n    <Menu theme=\"dark\" mode=\"horizontal\">\n      <Menu.Item key=\"1\">\n        <Link to=\"/metaweather-app\" className=\"top-link\">\n          TopPage\n        </Link>\n      </Menu.Item>\n    </Menu>\n  );\n};\n","import React from 'react';\nimport { Layout, Card, Button } from 'antd';\nimport { Link } from 'react-router-dom';\n\nexport const TopPage = () => {\n  const { Content } = Layout;\n  return (\n    <>\n      <Layout>\n        <Content>\n          <h1>Top Page</h1>\n          <img src=\"https://www.metaweather.com/static/img/weather/png/64/lc.png\" />\n        </Content>\n        <Card title=\"地域を選択する\">\n          <Card type=\"inner\" title=\"東京\">\n            <Button type=\"primary\">\n              <Link to=\"/tokyo\">東京の天気を確認する</Link>\n            </Button>\n          </Card>\n          <Card type=\"inner\" title=\"名古屋\">\n            <Button type=\"primary\">\n              <Link to=\"/nagoya\">名古屋の天気を確認する</Link>\n            </Button>\n          </Card>\n          <Card type=\"inner\" title=\"大阪\">\n            <Button type=\"primary\">\n              <Link to=\"/osaka\">大阪の天気を確認する</Link>\n            </Button>\n          </Card>\n        </Card>\n      </Layout>\n    </>\n  );\n};\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport WeatherPage from './components/reusable-components/WeatherPage';\nimport 'antd/dist/antd.css';\nimport { Header } from './components/Header';\nimport { TopPage } from './components/TopPage';\n\nfunction App() {\n  return (\n    <div>\n      <Header />\n      <div>\n        <Switch>\n          <Route exact path='/metaweather-app' component={TopPage} />\n          <Route exact path='/tokyo' render={() => <WeatherPage city='tokyo'/>} />\n          <Route exact path='/nagoya' render={() => <WeatherPage city='nagoya'/>} />\n          <Route exact path='/osaka' render={() => <WeatherPage city='osaka'/>} />\n        </Switch>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}