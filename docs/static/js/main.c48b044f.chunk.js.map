{"version":3,"sources":["components/reusable-components/WeatherPageItem.tsx","components/reusable-components/WeatherPage.tsx","components/Header.tsx","components/TopPage.tsx","App.tsx","index.tsx"],"names":["WeatherPageItem","data","iconUrl","weather_state_abbr","type","title","applicable_date","className","style","display","fontSize","src","alt","paddingLeft","paddingTop","size","weather_state_name","wind_direction_compass","Math","round","max_temp","WeatherPage","city","TabPane","Tabs","cityName","useState","id","forecastData","setForecastData","reportData","setReportData","isLoading","setIsLoading","cityCode","console","error","useEffect","fetchForecastData","a","weatherArray","date","incrementDay","dayjs","add","format","axios","get","process","response","push","weatherReportArray","decrementDay","subtract","reverse","fetchReportData","textAlign","color","defaultActiveKey","tab","map","Header","theme","mode","Item","to","TopPage","Content","Layout","App","exact","path","component","render","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.c48b044f.chunk.js","sourcesContent":["import React from 'react';\nimport { Card, Space } from 'antd';\n\ninterface Data {\n  id: number;\n  weather_state_abbr: string,\n  applicable_date: string;\n  weather_state_name: string;\n  wind_direction_compass: string;\n  max_temp: number;\n}\n\ninterface Props {\n  data: Data,\n  key: number,\n}\n\n\nexport const WeatherPageItem: React.FC<Props> = ({ data}) => {\n  const iconUrl = `https://www.metaweather.com/static/img/weather/png/64/${data.weather_state_abbr}.png`;\n\n  const style: { [key: string]: string} = {\n    display: 'flex',\n    fontSize: 'large'\n  }\n\n  const descriptionStyle : { [key: string]: string} = {\n    paddingLeft: '15%',\n    paddingTop: '10px',\n  }\n\n  return (\n    <Card type=\"inner\" title={data.applicable_date}>\n      <div className=\"weather-container\" style={style}>\n        <div className='weather-icon'>\n          <img src={iconUrl} alt='icon'/>\n        </div>\n        <div style={descriptionStyle} className=\"weather-description-wrapper\">\n          <Space size=\"middle\">\n            天気: {data.weather_state_name}\n            風向き: {data.wind_direction_compass}\n            最高気温: {Math.round(data.max_temp * 10) / 10}\n          </Space>\n        </div>\n      </div>\n    </Card>\n  )\n}\n","import React, { useState, useEffect } from 'react';\nimport dayjs from 'dayjs';\nimport { WeatherPageItem } from './WeatherPageItem';\nimport axios from 'axios';\nimport { Card, Tabs, Spin } from 'antd';\n\ninterface City {\n  city: string;\n}\n\nconst WeatherPage: React.FC<City> = (city) => {\n  interface WeatherResponse {\n    id: number;\n    weather_state_abbr: string;\n    applicable_date: string;\n    weather_state_name: string;\n    max_temp: number,\n    wind_direction_compass: string;\n  }\n\n  const style: { [key: string]: string} = {\n    paddingTop: '50px',\n    textAlign: 'center',\n    fontSize: 'x-large',\n    color: 'lightskyblue',\n  }\n\n  const { TabPane } = Tabs;\n  const cityName = city;\n\n  const [forecastData, setForecastData] = useState<WeatherResponse[]>([\n    { id: 0,\n      weather_state_abbr: '',\n      applicable_date: '',\n      weather_state_name: '',\n      max_temp: 0,\n      wind_direction_compass: ''\n    }]\n  )\n\n  const [reportData, setReportData] = useState<WeatherResponse[]>([\n    { id: 0,\n      weather_state_abbr: '',\n      applicable_date: '',\n      weather_state_name: '',\n      max_temp: 0,\n      wind_direction_compass: ''\n    }]\n  )\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  function cityCode(): number | undefined {\n    switch (cityName.city) {\n      case 'tokyo':\n        return 1118370\n      case 'nagoya':\n        return 1117817\n      case 'osaka':\n        return 15015370\n      default:\n        console.error('city does not match')\n    }\n  }\n\n  useEffect(() => {\n    const fetchForecastData = async () => {\n      setIsLoading(true);\n      const weatherArray: any[] = [];\n      for (let date = 0; date < 7; date++) {\n        const incrementDay = dayjs().add(date, 'day').format('YYYY/MM/DD')\n        const response = await axios.get(\n          process.env.REACT_APP_PROXY_URL + `https://www.metaweather.com/api/location/${cityCode()}/${incrementDay}`\n        );\n\n        weatherArray.push(response.data[0]);\n      }\n      setForecastData(weatherArray)\n      setIsLoading(false);\n    };\n\n    const fetchReportData = async () => {\n      const weatherReportArray: any[] = [];\n      for (let date = 1; date < 7; date++) {\n        const decrementDay = dayjs().subtract(date, 'day').format('YYYY/MM/DD')\n        const response = await axios.get(\n          process.env.REACT_APP_PROXY_URL + `https://www.metaweather.com/api/location/${cityCode()}/${decrementDay}`\n        );\n\n        weatherReportArray.push(response.data[0]);\n      }\n      setReportData(weatherReportArray.reverse())\n    };\n    fetchReportData();\n    fetchForecastData();\n  }, []);\n\n  return (\n    <>\n      <div>\n        {isLoading ? (\n          <div style={style} className=\"loading-status\">\n            Loading ...\n            <Spin size=\"large\" />\n          </div>\n        ) : ( <Tabs defaultActiveKey=\"2\" type=\"card\" size=\"large\">\n            <TabPane tab=\"先週の天気\" key=\"1\">\n\n                <Card title=\"先週の天気\">\n                  {reportData.map(data =>\n                    <WeatherPageItem data={data} key={data.id} />\n                  )}\n                </Card>\n            </TabPane>\n            <TabPane tab=\"今週の天気\" key=\"2\">\n              <Card title=\"今週の天気\">\n                {forecastData.map(data =>\n                  <WeatherPageItem data={data} key={data.id} />\n                )}\n              </Card>\n            </TabPane>\n          </Tabs>\n        )}\n      </div>\n    </>\n  )\n};\n\nexport default WeatherPage;\n","import { Link } from 'react-router-dom';\nimport { Menu } from 'antd';\n\nexport const Header = () => {\n  return (\n    <Menu theme=\"dark\" mode=\"horizontal\">\n      <Menu.Item key=\"1\">\n        <Link to=\"/metaweather-app\" className=\"top-link\">\n          TopPage\n        </Link>\n      </Menu.Item>\n    </Menu>\n  );\n};\n","import React from 'react';\nimport { Layout, Card, Button } from 'antd';\nimport { Link } from 'react-router-dom';\n\nexport const TopPage = () => {\n  const { Content } = Layout;\n  return (\n    <>\n      <Layout>\n        <Content>\n          <h1>Top Page</h1>\n          <img src=\"https://www.metaweather.com/static/img/weather/png/64/lc.png\" />\n        </Content>\n        <Card title=\"地域を選択する\">\n          <Card type=\"inner\" title=\"東京\">\n            <Button type=\"primary\">\n              <Link to=\"/tokyo\">東京の天気を確認する</Link>\n            </Button>\n          </Card>\n          <Card type=\"inner\" title=\"名古屋\">\n            <Button type=\"primary\">\n              <Link to=\"/nagoya\">名古屋の天気を確認する</Link>\n            </Button>\n          </Card>\n          <Card type=\"inner\" title=\"大阪\">\n            <Button type=\"primary\">\n              <Link to=\"/osaka\">大阪の天気を確認する</Link>\n            </Button>\n          </Card>\n        </Card>\n      </Layout>\n    </>\n  );\n};\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport WeatherPage from './components/reusable-components/WeatherPage';\nimport 'antd/dist/antd.css';\nimport { Header } from './components/Header';\nimport { TopPage } from './components/TopPage';\n\nfunction App() {\n  return (\n    <div>\n      <Header />\n      <div>\n        <Switch>\n          <Route exact path='/metaweather-app' component={TopPage} />\n          <Route exact path='/tokyo' render={() => <WeatherPage city='tokyo'/>} />\n          <Route exact path='/nagoya' render={() => <WeatherPage city='nagoya'/>} />\n          <Route exact path='/osaka' render={() => <WeatherPage city='osaka'/>} />\n        </Switch>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}